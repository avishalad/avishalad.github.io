{"ast":null,"code":"import React,{Component}from\"react\";import Header from\"../../components/header/Header\";import Footer from\"../../components/footer/Footer\";import TopButton from\"../../components/topButton/TopButton\";import Button from\"../../components/button/Button\";import{Document,Page,pdfjs}from\"react-pdf\";import{Fade}from\"react-reveal\";import{recommendations}from\"../../portfolio\";import\"./RecommendationViewer.css\";pdfjs.GlobalWorkerOptions.workerSrc=\"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(pdfjs.version,\"/pdf.worker.min.js\");const lorFiles={\"dr-decker\":require(\"../../assets/docs/LOR_Dr.Decker_BGSU.pdf\"),\"dr-green\":require(\"../../assets/docs/LOR_Dr.Green_BGSU.pdf\"),\"dr-roy\":require(\"../../assets/docs/LOR_Dr.Roy_BGSU.pdf\")};export default class RecommendationViewer extends Component{constructor(props){super(props);this.setPageWidth=()=>{const width=window.innerWidth;let pageWidth;if(width>1200){pageWidth=900;}else if(width>768){pageWidth=680;}else{pageWidth=width*0.9;}this.setState({pageWidth});};this.onDocumentLoadSuccess=_ref=>{let{numPages}=_ref;this.setState({numPages,isLoading:false,error:null});};this.onDocumentLoadError=()=>{this.setState({error:\"Failed to load the letter. Please try again later.\",isLoading:false});};this.goToPreviousPage=()=>{this.setState(prevState=>({currentPage:Math.max(prevState.currentPage-1,1)}));};this.goToNextPage=()=>{this.setState(prevState=>({currentPage:Math.min(prevState.currentPage+1,prevState.numPages)}));};this.state={pageWidth:null,numPages:null,currentPage:1,isLoading:true,error:null};}componentDidMount(){this.setPageWidth();window.addEventListener(\"resize\",this.setPageWidth);}componentWillUnmount(){window.removeEventListener(\"resize\",this.setPageWidth);}render(){const theme=this.props.theme;const{pageWidth,numPages,currentPage,isLoading,error}=this.state;const id=this.props.match.params.id;const item=recommendations.items.find(rec=>rec.id===id);const file=lorFiles[id];return/*#__PURE__*/React.createElement(\"div\",{className:\"recommendation-main\"},/*#__PURE__*/React.createElement(Header,{theme:theme}),/*#__PURE__*/React.createElement(\"div\",{className:\"recommendation-view\"},/*#__PURE__*/React.createElement(Fade,{bottom:true,duration:2000,distance:\"40px\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",{className:\"recommendation-title\",style:{color:theme.text}},item?item.name:\"Letter of Recommendation\"),file&&/*#__PURE__*/React.createElement(\"div\",{className:\"download-btn\"},/*#__PURE__*/React.createElement(Button,{text:\"Download Letter\",newTab:false,href:file,download:item?item.file:\"LOR.pdf\",theme:theme})),isLoading&&!error&&/*#__PURE__*/React.createElement(\"div\",{className:\"recommendation-loading\"},/*#__PURE__*/React.createElement(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/React.createElement(\"p\",null,\"Loading letter...\")),error&&/*#__PURE__*/React.createElement(\"div\",{className:\"recommendation-error\"},/*#__PURE__*/React.createElement(\"p\",null,error)),!error&&file&&/*#__PURE__*/React.createElement(\"div\",{className:\"recommendation-doc\"},/*#__PURE__*/React.createElement(Document,{file:file,onLoadSuccess:this.onDocumentLoadSuccess,onLoadError:this.onDocumentLoadError},/*#__PURE__*/React.createElement(Page,{pageNumber:currentPage,width:pageWidth}))),numPages&&/*#__PURE__*/React.createElement(\"div\",{className:\"recommendation-controls\"},/*#__PURE__*/React.createElement(\"button\",{className:\"control-btn\",onClick:this.goToPreviousPage,disabled:currentPage===1},\"Previous\"),/*#__PURE__*/React.createElement(\"span\",{className:\"page-indicator\"},\"Page \",currentPage,\" of \",numPages),/*#__PURE__*/React.createElement(\"button\",{className:\"control-btn\",onClick:this.goToNextPage,disabled:currentPage===numPages},\"Next\"))))),/*#__PURE__*/React.createElement(Footer,{theme:this.props.theme,onToggle:this.props.onToggle}),/*#__PURE__*/React.createElement(TopButton,{theme:this.props.theme}));}}","map":{"version":3,"names":["React","Component","Header","Footer","TopButton","Button","Document","Page","pdfjs","Fade","recommendations","GlobalWorkerOptions","workerSrc","concat","version","lorFiles","require","RecommendationViewer","constructor","props","setPageWidth","width","window","innerWidth","pageWidth","setState","onDocumentLoadSuccess","_ref","numPages","isLoading","error","onDocumentLoadError","goToPreviousPage","prevState","currentPage","Math","max","goToNextPage","min","state","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","render","theme","id","match","params","item","items","find","rec","file","createElement","className","bottom","duration","distance","style","color","text","name","newTab","href","download","onLoadSuccess","onLoadError","pageNumber","onClick","disabled","onToggle"],"sources":["/Users/avishalad/Documents/GitHub/avishalad.github.io/portfolio/src/pages/recommendations/RecommendationViewer.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"../../components/header/Header\";\nimport Footer from \"../../components/footer/Footer\";\nimport TopButton from \"../../components/topButton/TopButton\";\nimport Button from \"../../components/button/Button\";\nimport { Document, Page, pdfjs } from \"react-pdf\";\nimport { Fade } from \"react-reveal\";\nimport { recommendations } from \"../../portfolio\";\nimport \"./RecommendationViewer.css\";\n\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\n\nconst lorFiles = {\n  \"dr-decker\": require(\"../../assets/docs/LOR_Dr.Decker_BGSU.pdf\"),\n  \"dr-green\": require(\"../../assets/docs/LOR_Dr.Green_BGSU.pdf\"),\n  \"dr-roy\": require(\"../../assets/docs/LOR_Dr.Roy_BGSU.pdf\"),\n};\n\nexport default class RecommendationViewer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pageWidth: null,\n      numPages: null,\n      currentPage: 1,\n      isLoading: true,\n      error: null,\n    };\n  }\n\n  componentDidMount() {\n    this.setPageWidth();\n    window.addEventListener(\"resize\", this.setPageWidth);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.setPageWidth);\n  }\n\n  setPageWidth = () => {\n    const width = window.innerWidth;\n    let pageWidth;\n\n    if (width > 1200) {\n      pageWidth = 900;\n    } else if (width > 768) {\n      pageWidth = 680;\n    } else {\n      pageWidth = width * 0.9;\n    }\n\n    this.setState({ pageWidth });\n  };\n\n  onDocumentLoadSuccess = ({ numPages }) => {\n    this.setState({\n      numPages,\n      isLoading: false,\n      error: null,\n    });\n  };\n\n  onDocumentLoadError = () => {\n    this.setState({\n      error: \"Failed to load the letter. Please try again later.\",\n      isLoading: false,\n    });\n  };\n\n  goToPreviousPage = () => {\n    this.setState((prevState) => ({\n      currentPage: Math.max(prevState.currentPage - 1, 1),\n    }));\n  };\n\n  goToNextPage = () => {\n    this.setState((prevState) => ({\n      currentPage: Math.min(prevState.currentPage + 1, prevState.numPages),\n    }));\n  };\n\n  render() {\n    const theme = this.props.theme;\n    const { pageWidth, numPages, currentPage, isLoading, error } = this.state;\n    const id = this.props.match.params.id;\n    const item = recommendations.items.find((rec) => rec.id === id);\n    const file = lorFiles[id];\n\n    return (\n      <div className=\"recommendation-main\">\n        <Header theme={theme} />\n        <div className=\"recommendation-view\">\n          <Fade bottom duration={2000} distance=\"40px\">\n            <div>\n              <h1 className=\"recommendation-title\" style={{ color: theme.text }}>\n                {item ? item.name : \"Letter of Recommendation\"}\n              </h1>\n              {file && (\n                <div className=\"download-btn\">\n                  <Button\n                    text=\"Download Letter\"\n                    newTab={false}\n                    href={file}\n                    download={item ? item.file : \"LOR.pdf\"}\n                    theme={theme}\n                  />\n                </div>\n              )}\n\n              {isLoading && !error && (\n                <div className=\"recommendation-loading\">\n                  <div className=\"loading-spinner\"></div>\n                  <p>Loading letter...</p>\n                </div>\n              )}\n\n              {error && (\n                <div className=\"recommendation-error\">\n                  <p>{error}</p>\n                </div>\n              )}\n\n              {!error && file && (\n                <div className=\"recommendation-doc\">\n                  <Document\n                    file={file}\n                    onLoadSuccess={this.onDocumentLoadSuccess}\n                    onLoadError={this.onDocumentLoadError}\n                  >\n                    <Page pageNumber={currentPage} width={pageWidth} />\n                  </Document>\n                </div>\n              )}\n\n              {numPages && (\n                <div className=\"recommendation-controls\">\n                  <button\n                    className=\"control-btn\"\n                    onClick={this.goToPreviousPage}\n                    disabled={currentPage === 1}\n                  >\n                    Previous\n                  </button>\n                  <span className=\"page-indicator\">\n                    Page {currentPage} of {numPages}\n                  </span>\n                  <button\n                    className=\"control-btn\"\n                    onClick={this.goToNextPage}\n                    disabled={currentPage === numPages}\n                  >\n                    Next\n                  </button>\n                </div>\n              )}\n            </div>\n          </Fade>\n        </div>\n        <Footer theme={this.props.theme} onToggle={this.props.onToggle} />\n        <TopButton theme={this.props.theme} />\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}